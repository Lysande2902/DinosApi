<h2 mat-dialog-title>{{ isEditMode ? 'Editar Dinosaurio' : 'Agregar Dinosaurio' }}</h2>

<mat-dialog-content>
  <form [formGroup]="dinosaurForm" class="dinosaur-form">
    
    <!-- Name Field -->
    <mat-form-field appearance="outline">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="name" placeholder="Ej: Tyrannosaurus Rex">
      <mat-error *ngIf="dinosaurForm.get('name')?.invalid && dinosaurForm.get('name')?.touched">
        {{ getErrorMessage('name') }}
      </mat-error>
    </mat-form-field>

    <!-- Species Field -->
    <mat-form-field appearance="outline">
      <mat-label>Especie</mat-label>
      <input matInput formControlName="species" placeholder="Ej: T. rex">
      <mat-error *ngIf="dinosaurForm.get('species')?.invalid && dinosaurForm.get('species')?.touched">
        {{ getErrorMessage('species') }}
      </mat-error>
    </mat-form-field>

    <!-- Period Field -->
    <mat-form-field appearance="outline">
      <mat-label>Período</mat-label>
      <input matInput formControlName="period" placeholder="Ej: Cretácico Superior">
      <mat-error *ngIf="dinosaurForm.get('period')?.invalid && dinosaurForm.get('period')?.touched">
        {{ getErrorMessage('period') }}
      </mat-error>
    </mat-form-field>

    <!-- Diet Field -->
    <mat-form-field appearance="outline">
      <mat-label>Dieta</mat-label>
      <mat-select formControlName="diet">
        <mat-option *ngFor="let diet of dietOptions" [value]="diet">
          {{ diet }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="dinosaurForm.get('diet')?.invalid && dinosaurForm.get('diet')?.touched">
        {{ getErrorMessage('diet') }}
      </mat-error>
    </mat-form-field>

    <!-- Length Field -->
    <mat-form-field appearance="outline">
      <mat-label>Longitud (metros)</mat-label>
      <input matInput type="number" formControlName="length" placeholder="Ej: 12.3">
      <mat-error *ngIf="dinosaurForm.get('length')?.invalid && dinosaurForm.get('length')?.touched">
        {{ getErrorMessage('length') }}
      </mat-error>
    </mat-form-field>

    <!-- Weight Field -->
    <mat-form-field appearance="outline">
      <mat-label>Peso (toneladas)</mat-label>
      <input matInput type="number" formControlName="weight" placeholder="Ej: 8.4">
      <mat-error *ngIf="dinosaurForm.get('weight')?.invalid && dinosaurForm.get('weight')?.touched">
        {{ getErrorMessage('weight') }}
      </mat-error>
    </mat-form-field>

    <!-- Description Field -->
    <mat-form-field appearance="outline">
      <mat-label>Descripción</mat-label>
      <textarea matInput formControlName="description" rows="3" 
                placeholder="Descripción del dinosaurio..."></textarea>
    </mat-form-field>

    <!-- Image URL Field -->
    <mat-form-field appearance="outline">
      <mat-label>URL de Imagen</mat-label>
      <input matInput formControlName="imageUrl" placeholder="https://ejemplo.com/imagen.jpg">
      <mat-error *ngIf="dinosaurForm.get('imageUrl')?.invalid && dinosaurForm.get('imageUrl')?.touched">
        {{ getErrorMessage('imageUrl') }}
      </mat-error>
    </mat-form-field>

  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancelar</button>
  <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="dinosaurForm.invalid">
    {{ isEditMode ? 'Actualizar' : 'Guardar' }}
  </button>
</mat-dialog-actions>
